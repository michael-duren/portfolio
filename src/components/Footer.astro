---
import { execSync } from "node:child_process";
import { Icon } from "astro-icon/components";

const commitHash = execSync("git rev-parse --short HEAD").toString().trim();

const exploreLinks = [
  { name: "Home", href: "/", icon: "mdi:home" },
  { name: "About", href: "/#about", icon: "mdi:account" },
  { name: "Work", href: "/#work", icon: "mdi:briefcase" },
  { name: "Blog", href: "/blog", icon: "mdi:post-outline" },
  { name: "Resume", href: "/resume", icon: "mdi:file-document" },
];

const socialLinks = [
  {
    name: "GitHub",
    href: "https://github.com/michael-duren",
    icon: "mdi:github",
  },
  {
    name: "LinkedIn",
    href: "https://www.linkedin.com/in/michael-duren/",
    icon: "mdi:linkedin",
  },
  {
    name: "Twitter",
    href: "https://twitter.com/duren_dev",
    icon: "mdi:twitter",
  },
];
---

<footer
  class="mt-20 border-t border-gray-800 bg-black/20 backdrop-blur-sm"
  transition:persist
>
  <div class="max-w-6xl mx-auto px-6 py-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
      {/* Brand Section */}
      <div class="col-span-1">
        <h3 class="text-xl font-bold text-white mb-4">Michael Duren</h3>
        <p class="text-gray-400 leading-relaxed max-w-sm">
          Crafting digital experiences with precision and passion. Measuring,
          mixing, and combining technologies to solve complex problems.
        </p>
      </div>

      {/* Explore Section */}
      <div>
        <h4
          class="text-lg font-semibold text-white mb-6 flex items-center gap-2"
        >
          <Icon name="mdi:compass-outline" class="w-5 h-5 text-primary" />
          Explore
        </h4>
        <ul class="space-y-3">
          {
            exploreLinks.map((link) => (
              <li>
                <a
                  href={link.href}
                  class="text-gray-400 hover:text-white hover:translate-x-1 transition-all duration-300 inline-flex items-center gap-2"
                >
                  <Icon
                    name={link.icon}
                    class="w-4 h-4 text-gray-500 group-hover:text-primary transition-colors"
                  />
                  {link.name}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      {/* Connect Section */}
      <div>
        <h4
          class="text-lg font-semibold text-white mb-6 flex items-center gap-2"
        >
          <Icon name="mdi:link-variant" class="w-5 h-5 text-primary" />
          Connect
        </h4>
        <ul class="space-y-3">
          {
            socialLinks.map((link) => (
              <li>
                <a
                  href={link.href}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="group flex items-center gap-3 text-gray-400 hover:text-white transition-colors duration-300"
                >
                  <div class="p-2 rounded-lg bg-gray-800/50 group-hover:bg-white/10 transition-colors">
                    <Icon name={link.icon} class="w-5 h-5" />
                  </div>
                  {link.name}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
    </div>

    {/* Bottom Bar */}
    <div
      class="pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-500"
    >
      <p>
        &copy; {new Date().getFullYear()} Michael Duren. All rights reserved.
      </p>
      <div class="flex items-center gap-4">
        <p class="flex items-center gap-1.5">
          Built with <Icon name="devicon:astro" class="w-3.5 h-3.5" /> & <Icon
            name="devicon:tailwindcss"
            class="w-3.5 h-3.5"
          />
        </p>
        <span class="w-1 h-1 rounded-full bg-gray-700"></span>
        <p class="font-mono text-xs opacity-70">
          v.{commitHash}
        </p>
      </div>
    </div>
  </div>
</footer>
