---
export interface Props {
  variant?:
    | "beaker"
    | "flask-round"
    | "flask-erlenmeyer"
    | "test-tube"
    | "solution";
  color?: string;
  class?: string;
}

const {
  variant = "beaker",
  color = "text-blue-500",
  class: className = "",
} = Astro.props;
---

<div class={`relative flex items-center justify-center ${className} group`}>
  <!-- Circular container pretending to be zoomed-in flask liquid -->
  <div
    class="relative w-full h-full rounded-full overflow-hidden border-2 border-white/20 shadow-[0_0_15px_rgba(255,255,255,0.1)] backdrop-blur-sm bg-gray-900/40"
  >
    <!-- Liquid Background -->
    <div
      class={`absolute inset-0 opacity-40 group-hover:opacity-50 transition-opacity duration-500 ${color.replace("text-", "bg-")}`}
    >
    </div>

    <!-- Bubbles Animation -->
    <div class="absolute inset-0 overflow-hidden">
      <div
        class={`absolute bottom-0 left-[20%] w-1.5 h-1.5 rounded-full ${color.replace("text-", "bg-")} animate-bubble opacity-80`}
        style="animation-duration: 2s; animation-delay: 0s;"
      >
      </div>
      <div
        class={`absolute bottom-0 left-[50%] w-2 h-2 rounded-full ${color.replace("text-", "bg-")} animate-bubble opacity-80`}
        style="animation-duration: 3s; animation-delay: 1s;"
      >
      </div>
      <div
        class={`absolute bottom-0 left-[70%] w-1 h-1 rounded-full ${color.replace("text-", "bg-")} animate-bubble opacity-80`}
        style="animation-duration: 2.5s; animation-delay: 0.5s;"
      >
      </div>
      <div
        class={`absolute bottom-0 right-[30%] w-1.5 h-1.5 rounded-full ${color.replace("text-", "bg-")} animate-bubble opacity-80`}
        style="animation-duration: 2.2s; animation-delay: 1.2s;"
      >
      </div>
    </div>

    <!-- Glass shine effect -->
    <div
      class="absolute top-0 left-0 w-full h-[40%] bg-gradient-to-b from-white/10 to-transparent rounded-t-full"
    >
    </div>
    <div
      class="absolute bottom-0 right-0 w-[80%] h-[80%] bg-gradient-to-tl from-white/5 to-transparent rounded-full"
    >
    </div>
  </div>

  <!-- Content Slot (Icon) -->
  <div
    class="absolute inset-0 flex justify-center items-center z-10 group-hover:scale-110 transition-transform duration-300"
  >
    <slot />
  </div>
</div>

<style>
  @keyframes rise {
    0% {
      bottom: -5px;
      opacity: 0;
      transform: translateX(0);
    }
    50% {
      opacity: 0.6;
      transform: translateX(2px);
    }
    100% {
      bottom: 100%;
      opacity: 0;
      transform: translateX(-2px);
    }
  }
  .animate-bubble {
    animation-name: rise;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }
</style>
